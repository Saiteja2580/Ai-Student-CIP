<div
  class="flex flex-col gap-5 h-[100%] bg-gradient-to-br from-gray-900 to-gray-800 shadow-xl rounded-lg mx-auto p-4 sm:p-6 md:p-8"
>
  <div class="flex flex-col gap-2 text-gray-400 my-3 sm:my-5">
    <h1 class="text-2xl sm:text-3xl font-bold text-(--text-heading)">
      Career Ai Assistant
    </h1>
    <p class="text-sm sm:text-base">
      Ask me anything about career paths, skill development, or job
      opportunities
    </p>
  </div>

  <div
    class="flex flex-col gap-4 h-[300px] sm:h-[350px] md:h-[400px] border-t-1 border-b-1 pt-3 sm:pt-5 border-gray-500 overflow-y-auto p-3 sm:p-4 md:p-6"
  >
    <!-- Chat Messages -->
    <ng-container *ngFor="let msg of messages">
      <!-- Bot Message -->
      <div class="flex items-start gap-2 sm:gap-3" *ngIf="!msg.isUser">
        <div
          class="w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gray-600 flex items-center justify-center"
        >
          <span class="text-xs sm:text-sm">AI</span>
        </div>
        <div class="flex-1">
          <div
            class="bg-gray-700 rounded-lg p-2 sm:p-3 max-w-[90%] sm:max-w-[80%] inline-block"
          >
            <p
              class="text-gray-200 text-sm sm:text-base"
              [innerHTML]="msg.content"
            ></p>
          </div>
        </div>
      </div>

      <!-- User Message -->
      <div
        class="flex items-start gap-2 sm:gap-3 justify-end"
        *ngIf="msg.isUser"
      >
        <div class="flex-1 flex justify-end">
          <div
            class="bg-(--text-heading) rounded-lg p-2 sm:p-3 max-w-[90%] sm:max-w-[80%] inline-block"
          >
            <p class="text-black text-sm sm:text-base">{{ msg.content }}</p>
          </div>
        </div>
        <div
          class="w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-(--text-heading) flex items-center justify-center"
        >
          <span class="text-xs sm:text-sm text-black">U</span>
        </div>
      </div>
    </ng-container>

    <!-- Typing Indicator -->
    <div class="flex items-start gap-2 sm:gap-3" *ngIf="isTyping">
      <div
        class="w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gray-600 flex items-center justify-center"
      >
        <span class="text-xs sm:text-sm">AI</span>
      </div>
      <div class="flex-1">
        <div
          class="bg-gray-700 rounded-lg p-2 sm:p-3 max-w-[90%] sm:max-w-[80%] inline-block"
        >
          <div class="flex gap-1">
            <div
              class="w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gray-400 rounded-full animate-bounce"
            ></div>
            <div
              class="w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gray-400 rounded-full animate-bounce"
              style="animation-delay: 0.2s"
            ></div>
            <div
              class="w-1.5 h-1.5 sm:w-2 sm:h-2 bg-gray-400 rounded-full animate-bounce"
              style="animation-delay: 0.4s"
            ></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="w-[100%] px-3 sm:px-4 md:px-6 pb-3 sm:pb-4">
    <form
      action=""
      class="flex gap-2 sm:gap-3 w-[100%]"
      (submit)="$event.preventDefault(); sendMessage()"
    >
      <input
        type="text"
        name="message"
        id=""
        class="border-1 border-gray-500 flex-1 px-3 sm:px-5 py-2 sm:py-3 rounded-lg bg-gray-700 text-gray-200 text-sm sm:text-base focus:outline-none focus:border-(--text-heading)"
        placeholder="Ask a question about Careers, Skills, Job Market"
        [(ngModel)]="message"
      />
      <button
        type="submit"
        class="bg-(--text-heading) px-4 sm:px-6 py-2 sm:py-3 rounded-lg text-black text-sm sm:text-base font-medium hover:opacity-90 transition-opacity"
      >
        Send
      </button>
    </form>
  </div>
</div>
