<div
  class="flex flex-col gap-5 h-[100%] bg-gradient-to-br from-gray-900 to-gray-800 shadow-xl rounded-lg mx-auto p-8"
>
  <div class="flex flex-col gap-2 text-gray-400 my-5">
    <h1 class="text-3xl font-bold text-(--text-heading)">
      Career Ai Assistant
    </h1>
    <p>
      Ask me anything about career paths, skill development, or job
      opportunities
    </p>
  </div>

  <div
    class="flex flex-col gap-4 h-[400px] border-t-1 border-b-1 pt-5 border-gray-500 overflow-y-auto p-6"
  >
    <!-- Chat Messages -->
    <ng-container *ngFor="let msg of messages">
      <!-- Bot Message -->
      <div class="flex items-start gap-3" *ngIf="!msg.isUser">
        <div
          class="w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center"
        >
          <span class="text-sm">AI</span>
        </div>
        <div class="flex-1">
          <div class="bg-gray-700 rounded-lg p-3 max-w-[80%] inline-block">
            <p class="text-gray-200" [innerHTML]="msg.content"></p>
          </div>
        </div>
      </div>

      <!-- User Message -->
      <div class="flex items-start gap-3 justify-end" *ngIf="msg.isUser">
        <div class="flex-1 flex justify-end">
          <div
            class="bg-(--text-heading) rounded-lg p-3 max-w-[80%] inline-block"
          >
            <p class="text-black">{{ msg.content }}</p>
          </div>
        </div>
        <div
          class="w-8 h-8 rounded-full bg-(--text-heading) flex items-center justify-center"
        >
          <span class="text-sm text-black">U</span>
        </div>
      </div>
    </ng-container>

    <!-- Typing Indicator -->
    <div class="flex items-start gap-3" *ngIf="isTyping">
      <div
        class="w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center"
      >
        <span class="text-sm">AI</span>
      </div>
      <div class="flex-1">
        <div class="bg-gray-700 rounded-lg p-3 max-w-[80%] inline-block">
          <div class="flex gap-1">
            <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
            <div
              class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"
              style="animation-delay: 0.2s"
            ></div>
            <div
              class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"
              style="animation-delay: 0.4s"
            ></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="w-[100%] px-6 pb-4">
    <form
      action=""
      class="flex gap-3 w-[100%]"
      (submit)="$event.preventDefault(); sendMessage()"
    >
      <input
        type="text"
        name="message"
        id=""
        class="border-1 border-gray-500 flex-1 px-5 py-3 rounded-lg bg-gray-700 text-gray-200 focus:outline-none focus:border-(--text-heading)"
        placeholder="Ask a question about Careers, Skills, Job Market"
        [(ngModel)]="message"
      />
      <button
        type="submit"
        class="bg-(--text-heading) px-6 py-3 rounded-lg text-black font-medium hover:opacity-90 transition-opacity"
      >
        Send
      </button>
    </form>
  </div>
</div>
