<form
  class="max-w-6xl mx-auto my-8 p-8 bg-gray-900 rounded-xl shadow-2xl"
  #spinnner
  *ngIf="!scheduleService.isloading(); else spinner"
>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6">
    <!-- Row 1 -->
    <div class="relative">
      <label for="name" class="block mb-2 text-gray-200 font-medium text-sm"
        >Schedule Name :
      </label>
      <div class="relative">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-xl">üìù</span>
        <input
          type="text"
          [(ngModel)]="newSchedule.name"
          name="name"
          placeholder="Schedule Name"
          id="name"
          required
          class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
        />
      </div>
    </div>

    <div class="relative">
      <label for="date" class="block mb-2 text-gray-200 font-medium text-sm"
        >Date :
      </label>
      <div class="relative">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-xl">üìÖ</span>
        <input
          type="date"
          [(ngModel)]="newSchedule.date"
          name="date"
          required
          id="date"
          class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
        />
      </div>
    </div>

    <div class="relative">
      <label for="time" class="block mb-2 text-gray-200 font-medium text-sm"
        >Start Time :
      </label>
      <div class="relative">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-xl">‚è∞</span>
        <input
          type="time"
          [(ngModel)]="newSchedule.time"
          name="time"
          required
          id="time"
          class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
        />
      </div>
    </div>

    <div class="relative">
      <label for="endtime" class="block mb-2 text-gray-200 font-medium text-sm"
        >End Time :
      </label>
      <div class="relative">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-xl">‚è±Ô∏è</span>
        <input
          type="time"
          [(ngModel)]="newSchedule.endTime"
          name="endTime"
          placeholder="End Time"
          id="endtime"
          class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
        />
      </div>
    </div>

    <!-- Row 2 -->
    <div class="relative">
      <label for="category" class="block mb-2 text-gray-200 font-medium text-sm"
        >Category :
      </label>
      <div class="relative">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-xl">üìã</span>
        <select
          [(ngModel)]="newSchedule.category"
          name="category"
          id="category"
          class="w-full pl-10 pr-10 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white appearance-none focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
        >
          <option value="" disabled selected>Select Category</option>
          <option value="Meeting">Meeting</option>
          <option value="Appointment">Appointment</option>
          <option value="Personal">Personal</option>
          <option value="Work">Work</option>
        </select>
        <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"
          >‚ñº</span
        >
      </div>
    </div>

    <div class="relative">
      <label for="location" class="block mb-2 text-gray-200 font-medium text-sm"
        >Location :
      </label>
      <div class="relative">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-xl">üìç</span>
        <input
          type="text"
          [(ngModel)]="newSchedule.location"
          name="location"
          placeholder="Location"
          id="location"
          class="w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
        />
      </div>
    </div>

    <div class="relative">
      <label for="priority" class="block mb-2 text-gray-200 font-medium text-sm"
        >Priority :
      </label>
      <div class="relative">
        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-xl">‚ö°</span>
        <select
          [(ngModel)]="newSchedule.priority"
          name="priority"
          id="priority"
          class="w-full pl-10 pr-10 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white appearance-none focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"
        >
          <option value="">Select Priority</option>
          <option value="Low">Low</option>
          <option value="Medium">Medium</option>
          <option value="High">High</option>
        </select>
        <span class="absolute right-3 top-1/2 -translate-y-1/2 text-gray-400"
          >‚ñº</span
        >
      </div>
    </div>

    <div class="relative flex items-end">
      <div class="w-full">
        @if(isEditMode){
        <button
          (click)="updateSchedule()"
          class="w-full px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 active:transform active:scale-95 transition-all"
        >
          Update Schedule
        </button>
        }@else {
        <button
          (click)="validateSchedule()"
          class="w-full px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 active:transform active:scale-95 transition-all"
        >
          Add Schedule
        </button>
        }
      </div>
    </div>
  </div>
</form>

<ng-template #spinner>
  <app-spinner #spinner></app-spinner>
</ng-template>
